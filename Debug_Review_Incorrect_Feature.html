
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug Review Incorrect Answers</title>
</head>
<body>
    <div class="quiz-container" id="quiz"></div>
    <div class="feedback" id="feedback"></div>
    <div class="nav-buttons">
        <button onclick="reviewIncorrectAnswers()">Review Incorrect Answers</button>
    </div>
    <div class="score" id="score">Correct: 0 | Incorrect: 0</div>
    <script>
        const questions = [
            {question: "What is 2+2?", options: ["3", "4", "5"], correctAnswer: 1},
            {question: "What is 3+5?", options: ["7", "8", "9"], correctAnswer: 1},
            {question: "What is 10-6?", options: ["3", "4", "5"], correctAnswer: 2}
        ];

        let currentQuestionIndex = 0;
        let correctCount = 0;
        let incorrectCount = 0;
        const answeredQuestions = new Set();
        let incorrectQuestions = [];
        let reviewIndex = 0;

        const updateScore = () => {
            document.getElementById("score").textContent = `Correct: ${correctCount} | Incorrect: ${incorrectCount}`;
        };

        const displayQuestion = () => {
            const question = questions[currentQuestionIndex];
            const quizContainer = document.getElementById("quiz");
            const feedback = document.getElementById("feedback");
            feedback.textContent = ""; // Clear feedback for new question

            quizContainer.innerHTML = `
                <div>
                    <div class="question">${question.question}</div>
                    <div class="options">
                        ${question.options
                            .map((option, i) => `<button onclick="checkAnswer(${i})">${option}</button>`)
                            .join("")}
                    </div>
                </div>`;
        };

        const checkAnswer = (selectedOption) => {
            if (answeredQuestions.has(currentQuestionIndex)) return;

            const question = questions[currentQuestionIndex];
            const feedback = document.getElementById("feedback");

            if (selectedOption === question.correctAnswer) {
                correctCount++;
                feedback.textContent = "Correct!";
                feedback.style.color = "green";
            } else {
                incorrectCount++;
                feedback.textContent = `Incorrect! Correct answer: ${question.options[question.correctAnswer]}`;
                feedback.style.color = "red";
                incorrectQuestions.push(currentQuestionIndex);
            }

            answeredQuestions.add(currentQuestionIndex);
            updateScore();
        };

        const reviewIncorrectAnswers = () => {
            if (incorrectQuestions.length === 0) {
                alert("No incorrect answers to review!");
                return;
            }

            currentQuestionIndex = incorrectQuestions[reviewIndex];
            displayQuestion();
            reviewIndex = (reviewIndex + 1) % incorrectQuestions.length;
        };

        // Initial display
        displayQuestion();
    </script>
</body>
</html>
